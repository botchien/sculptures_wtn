library(dplyr)
install.packages('Rcpp', dependencies = TRUE)
library(dplyr)
library(shiny)
library(leaflet)
library(sf) #   , lib.loc = "P:/R/libraries/3.3.2-20170925/")
library(dplyr)
library(tidyr)
library(shiny)
# start a chrome browser
shell('docker pull selenium/standalone-chrome')
# start a chrome browser
shell('docker pull selenium/standalone-firefox')
# start a chrome browser
shell('docker pull selenium/standalone-chrome')
# start a chrome browser
shell('docker pull selenium/standalone-chrome')
remDr <- remoteDriver(remoteServerAddr = "localhost", port = 4445L, browserName = "chrome'")
library(RSelenium)
remDr <- remoteDriver(remoteServerAddr = "localhost", port = 4445L, browserName = "chrome'")
remDr$open()
# start a chrome browser
shell('docker pull selenium/standalone-chrome')
remDr <- remoteDriver(remoteServerAddr = "localhost", port = 4445L, browserName = "chrome'")
remDr$open()
# start a chrome browser
shell('docker pull selenium/standalone-chrome')
remDr <- remoteDriver(remoteServerAddr = "192.168.99.100",
+                       port = 4445L)
# start a chrome browser
remDr <- remoteDriver(remoteServerAddr = "192.168.99.100", port = 4445L)
remDr$open()
remDr$open()
# start a chrome browser
remDr <- remoteDriver(remoteServerAddr = '192.168.99.100', port = 4445L)
remDr$open()
remDr$open()
# start a chrome browser
remDr <- remoteDriver(remoteServerAddr = '192.168.99.100', port = 4445L)
remDr$open()
library(RSelenium)
# start a chrome browser
remDr <- remoteDriver(remoteServerAddr = '192.168.99.100', port = 4445L)
remDr$open()
library(RSelenium)
# start a chrome browser
remDr <- remoteDriver(remoteServerAddr = '192.168.99.100', port = 4445L)
remDr$open()
# start a chrome browser
remDr <- remoteDriver(remoteServerAddr = '192.168.99.100', port = 4444L)
remDr$open()
remDr$navigate("http://www.google.com/ncr")
rD <- rsDriver() # runs a chrome browser, wait for necessary files to download
remDr <- rD$client
Download latest version of RSelenium >= 1.7.1. Run the following:
library(RSelenium)
rD <- rsDriver() # runs a chrome browser, wait for necessary files to download
wdman::selenium(jvmargs = c("-Dwebdriver.chrome.verboseLogging=true"),
retcommand = TRUE)
selCommand<-
wdman::selenium(jvmargs = c("-Dwebdriver.chrome.verboseLogging=true"),
retcommand = TRUE)
cat(selCommand)
library(RSelenium)
# start a chrome browser
remDr <- remoteDriver(remoteServerAddr = '192.168.99.100', port = 4445L)
remDr$open()
remDr$navigate("http://www.google.com/ncr")
remDr$getTitle()
remDr$navigate("https://www.aucklandcouncil.govt.nz/property-rates-valuations/Pages/find-property-rates-valuation.aspx")
remDr$getCurrentUrl()
webElem <- remDr$findElement(using = 'class name', "textbox-with-a-button autocomplete-search address-search")
webElem <- remDr$findElement(using = 'class name', "textbox-with-a-button")
webElem$getElementAttribute("class")
webElem2 <- remDr$findElement(using = 'class name', "dropdown-item")
webElem2 <- remDr$findElement(using = 'class name', "dropdown-menu result")
webElem3 <- remDr$findElement(using = 'class name', "dropdown-item")
webElem2 <- remDr$findElement(using = 'class name', "dropdown-menu")
remDr$findElement(using = 'xpath', "//*/input[@class = 'textbox-with-a-button']")
webElem
remDr$findElement(using = 'class name', "textbox-with-a-button")
webElem$sendKeysToElement(list("10 eddowes street"))
webElem$sendKeysToElement(list("10 eddowes street", "\uE007"))
remDr$getCurrentUrl()
webElem <- remDr$findElement(using = 'class name', "textbox-with-a-button")
webElem$sendKeysToElement(list("10 eddowes street", key = "enter"))
remDr$getCurrentUrl()
webElem$getElementAttribute("class")
webElems <- remDr$findElement(using = 'class name', "dropdown-menu")
unlist(lapply(webElems, function(x){x$getElementText()}))
webElems
remDr$findElements(using = "tag name", "frame")
library(rvest)
?rvest
read_html()
webElem <- remDr$findElement(using = 'xpath', "//*/input[@class = 'autocomplete']")
webElem
webElem$sendKeysToElement(list("10 eddowes street", key = "enter"))
remDr$getCurrentUrl()
webElem2 <- remDr$findElement(using = 'class name', "dropdown-menu")
webElem <- remDr$findElement(using = 'xpath', "//*[@id="ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a_ctl00_ACAutoComplete"]]")
remDr$findElement(using = "css", value="#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a_ctl00_ACAutoComplete")
webElem <-remDr$findElement(using = "css", value="#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a_ctl00_ACAutoComplete")
webElem
webElem$sendKeysToElemrent(list("10 eddowes street", key = "enter"))
webElem <-remDr$findElement(using = "css", value="#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a_ctl00_ACAutoComplete")
webElem$sendKeysToElemrent(list("10 eddowes street", key = "enter"))
webElem <-remDr$findElement(using = "css", value="#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.textbox-with-a-button.autocomplete-search.address-search")
webElem$sendKeysToElemrent(list("10 eddowes street", key = "enter"))
remDr$getCurrentUrl()
remDr$refresh() # refresh the page
webElem <-remDr$findElement(using = "css", value="#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.textbox-with-a-button.autocomplete-search.address-search")
webElem$sendKeysToElemrent(list("10 eddowes street", key = "enter"))
webElem <-remDr$findElement(using = "css", value="#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a_ctl00_ACAutoComplete")
webElem$sendKeysToElemrent(list("10 eddowes street", key = "enter"))
search_bt <-remDr$findElement(using = "css", value="#ratesAddressSearchBtn")
webElem <- remDr$findElement(using = 'class name', "textbox-with-a-button")
webElem$sendKeysToElemrent(list("10 eddowes street", key = "enter"))
webElem <-remDr$findElement(using = "css", value="#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.textbox-with-a-button.autocomplete-search.address-search")
webElem$sendKeysToElement(list("10 eddowes street", key = "enter"))
search_bt <-remDr$findElement(using = "css", value="#ratesAddressSearchBtn")
# click the search button
search_bt$clickElement()
remDr$getrCurrentUrl()
remDr$getrCurrentUrl()
remDr$getCurrentUrl()
webElem <- remDr$findElement(using = 'class name', "textbox-with-a-button")
.Primitive("list")
webElem$sendKeysToElement(list("10 eddowes street", key = "enter"))
search_bt <-remDr$findElement(using = "css", value="#ratesAddressSearchBtn")
# click the search button
search_bt$clickElement()
#webElem <- remDr$findElement(using = 'xpath', "//*[@id="ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a_ctl00_ACAutoComplete"]]")
webElem <-remDr$findElement(using = "css", value="#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a_ctl00_ACAutoComplete")
# click the search button
search_bt$clickElement()
webElem <-remDr$findElement(using = "css", value="#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.textbox-with-a-button.autocomplete-search.address-search")
# click the search button
search_bt$clickElement()
search_box <- remDr$findElement(using = 'id', value = "#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a_ctl00_ACAutoComplete")
remDr$refresh() # refresh the page
remDr$getCurrentUrl()
search_box <- remDr$findElement(using = 'id', value = "#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a_ctl00_ACAutoComplete")
out <- strsplit(out, split="; ")[[1]] # split the text to a character vector
###
###
###
# go to the webpage
remDr$navigate("http://www.bgci.org/global_tree_search.php?sec=globaltreesearch")
remDr$refresh() # refresh the page
# create R objects from the website elements
genusElem <- remDr$findElement(using = 'id', value = "genus-field")
specElem <- remDr$findElement(using = 'id', value = "species-field")
buttElem <- remDr$findElement(using = 'class', value = "btn_ohoDO")
# fill in the forms with the genus and species names
genusElem$sendKeysToElement(list(genus))
# fill in the forms with the genus and species names
genusElem$sendKeysToElement(list("Pinus"))
specElem$sendKeysToElement(list("Radiata"))
# click the search button
buttElem$clickElement()
# get the output
out <- remDr$findElement(using = "css", value="td.cell_1O3UaG:nth-child(4)")
out <- out$getElementText()[[1]] # extract the actual text string
out <- strsplit(out, split="; ")[[1]] # split the text to a character vector
out
# fill in the forms with the genus and species names
genusElem$sendKeysToElement(list("Pinus"))
specElem$sendKeysToElement(list("densata"))
# click the search button
buttElem$clickElement()
# get the output
out <- remDr$findElement(using = "css", value="td.cell_1O3UaG:nth-child(4)")
out <- out$getElementText()[[1]] # extract the actual text string
out <- strsplit(out, split="; ")[[1]] # split the text to a character vector
out
remDr$navigate("http://www.bgci.org/global_tree_search.php?sec=globaltreesearch")
remDr$refresh() # refresh the page
# create R objects from the website elements
genusElem <- remDr$findElement(using = 'id', value = "genus-field")
specElem <- remDr$findElement(using = 'id', value = "species-field")
buttElem <- remDr$findElement(using = 'class', value = "btn_ohoDO")
# fill in the forms with the genus and species names
genusElem$sendKeysToElement(list("Pinus"))
specElem$sendKeysToElement(list("densata"))
# click the search button
buttElem$clickElement()
# get the output
out <- remDr$findElement(using = "css", value="td.cell_1O3UaG:nth-child(4)")
out <- out$getElementText()[[1]] # extract the actual text string
out <- strsplit(out, split="; ")[[1]] # split the text to a character vector
out
remDr$navigate("https://www.aucklandcouncil.govt.nz/property-rates-valuations/Pages/find-property-rates-valuation.aspx")
remDr$getCurrentUrl()
remDr$refresh() # refresh the page
link("https://www.aucklandcouncil.govt.nz/property-rates-valuations/Pages/find-property-rates-valuation.aspx")
html(https://www.aucklandcouncil.govt.nz/property-rates-valuations/Pages/find-property-rates-valuation.aspx")
html(https://www.aucklandcouncil.govt.nz/property-rates-valuations/Pages/find-property-rates-valuation.aspx")
html("https://www.aucklandcouncil.govt.nz/property-rates-valuations/Pages/find-property-rates-valuation.aspx")
read_html("https://www.aucklandcouncil.govt.nz/property-rates-valuations/Pages/find-property-rates-valuation.aspx")
link <- "https://www.aucklandcouncil.govt.nz/property-rates-valuations/Pages/find-property-rates-valuation.aspx"
read_html(link)
page_html <- read_html(link)
View(page_html)
?html_nodes
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result")
webElem <- remDr$findElement(using = 'class name', "textbox-with-a-button")
webElem$sendKeysToElement(list("10 eddowes street"))
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result")
#webElem <- remDr$findElement(using = 'xpath', "//*[@id="ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a_ctl00_ACAutoComplete"]]")
webElem <-remDr$findElement(using = "css", value="#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a_ctl00_ACAutoComplete")
webElem$sendKeysToElement(list("10 eddowes street"))
remDr$getCurrentUrl()
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result")
read_html(link) %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result")
page_html <-  html(remDr$getPageSource()[[1]]) #Get the html source from site
page_html <-  read_html(remDr$getPageSource()[[1]]) #Get the html source from site
page_html
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result")
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") %>% View
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") -> test
test
tail(test)
print(test)
print(test)
remDr$navigate("https://www.aucklandcouncil.govt.nz/property-rates-valuations/Pages/find-property-rates-valuation.aspx")
remDr$getCurrentUrl()
remDr$refresh() # refresh the page
#webElem <- remDr$findElement(using = 'xpath', "//*[@id="ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a_ctl00_ACAutoComplete"]]")
webElem <-remDr$findElement(using = "css", value="#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a_ctl00_ACAutoComplete")
search_box <- remDr$findElement(using = 'id', value = "#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a_ctl00_ACAutoComplete")
remDr$getCurrentUrl()
page_html <-  read_html(remDr$getPageSource()[[1]]) #Get the html source from site
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") %>%
html_text
page_html <-  read_html(remDr$getPageSource()[[1]]) #Get the html source from site
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result")
webElem$sendKeysToElement(list("10 eddowt"))
page_html <-  read_html(remDr$getPageSource()[[1]]) #Get the html source from site
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result")
page_html <-  read_html(remDr$getPageSource()[[1]]) #Get the html source from site
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") %>%
html_text
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") %>%
html_text()
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") %>%
html_text()
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result")
webElem3 <- remDr$findElement(using = 'class name', "dropdown-item")
page_html %>% html_nodes(webElem2)
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") %>%
html_text()
webElem$sendKeysToElement(list("10 eddowes"))
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") %>%
html_text()
page_html <-  read_html(remDr$getPageSource()[[1]]) #Get the html source from site
# dropdown text
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") %>%
html_text()
webElem$getElementAttribute("class")
#search_box <- remDr$findElement(using = 'id', value = "#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a_ctl00_ACAutoComplete")
#webElem <-remDr$findElement(using = "css", value="#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.textbox-with-a-button.autocomplete-search.address-search")
search_bt <-remDr$findElement(using = "css", value="#ratesAddressSearchBtn")
# click the search button
search_bt$clickElement()
remDr$getTitle()
remDr$getCurrentUrl()
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") %>%
html_text()
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") %>%
html_text() %>% unlist(lapply(., function(x){x$getElementText()}))
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") %>% extract2[1]
page_html %>% html_node("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") %>% extract2[1]
page_html %>% html_node("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result")
page_html %>% html_node("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") %>% html_node("button")
page_html %>% html_node("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") %>% html_node("text")
remDr$findElement(using = 'class name', "dropdown-menu")
page_html %>% html_nodes("#ACRateAccountKey")
page_html %>% html_nodes("#ACRateAccountKey") %>% html_nodes("value")
page_html %>% html_nodes("#ACRateAccountKey") #%>% html_nodes("value")
webElem$sendKeysToElement(list(key = "enter"))
page_html %>% html_nodes("#ACRateAccountKey") #%>% html_nodes("value")
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") %>%
html_text()
page_html <-  read_html(remDr$getPageSource()[[1]]) #Get the html source from site
# dropdown text
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") %>%
html_text()
page_html %>% html_nodes("#ACRateAccountKey") #%>% html_nodes("value")
remDr$refresh() # refresh the page
remDr$getCurrentUrl()
page_html <-  read_html(remDr$getPageSource()[[1]]) #Get the html source from site
# dropdown text
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") %>%
html_text()
page_html %>% html_nodes("#ACRateAccountKey") #%>% html_nodes("value")
#webElem <- remDr$findElement(using = 'class name', "textbox-with-a-button")
#webElem <- remDr$findElement(using = 'xpath', "//*[@id="ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a_ctl00_ACAutoComplete"]]")
webElem <-remDr$findElement(using = "css", value="#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a_ctl00_ACAutoComplete")
#search_box <- remDr$findElement(using = 'id', value = "#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a_ctl00_ACAutoComplete")
#webElem <-remDr$findElement(using = "css", value="#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.textbox-with-a-button.autocomplete-search.address-search")
search_bt <-remDr$findElement(using = "css", value="#ratesAddressSearchBtn")
webElem2 <- remDr$findElement(using = 'class name', "dropdown-menu")
webElem3 <- remDr$findElement(using = 'class name', "dropdown-item")
webElem$sendKeysToElement(list("10 eddowes"))
page_html <-  read_html(remDr$getPageSource()[[1]]) #Get the html source from site
# dropdown text
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") %>%
html_text()
page_html %>% html_nodes("#ACRateAccountKey") #%>% html_nodes("value")
# dropdown text
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") %>%
html_text()
#webElem <- remDr$findElement(using = 'class name', "textbox-with-a-button")
#webElem <- remDr$findElement(using = 'xpath', "//*[@id="ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a_ctl00_ACAutoComplete"]]")
webElem <-remDr$findElement(using = "css", value="#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a_ctl00_ACAutoComplete")
webElem2 <- remDr$findElement(using = 'class name', "dropdown-menu")
webElem$sendKeysToElement(list("10 eddowes"))
page_html <-  read_html(remDr$getPageSource()[[1]]) #Get the html source from site
# dropdown text
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") %>%
html_text()
page_html %>% html_nodes("#ACRateAccountKey") #%>% html_nodes("value")
webElem$sendKeysToElement(list(key = "enter"))
page_html <-  read_html(remDr$getPageSource()[[1]]) #Get the html source from site
# dropdown text
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") %>%
html_text()
page_html %>% html_nodes("#ACRateAccountKey") #%>% html_nodes("value")
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.multiaddressResult.m-t-1 > h4")
# dropdown text
autocomplete_add <- page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") %>%
html_text()
autocomplete_add
webElem$sendKeysToElement(list(autocomplete_add))
remDr$getCurrentUrl()
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") %>%
html_text()
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.multiaddressResult.m-t-1 > h4")
adress_line <-remDr$findElement(using = "css", value="#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.multiaddressResult.m-t-1 > h4")
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.multiaddressResult.m-t-1 > h4")
adress_line <-remDr$findElement(using = "class name", "m-b-1")
adress_line <-remDr$findElement(using = "class name", "m-b-1")
adress_line
adress_line %>% html_text()
remDr$getCurrentUrl()
# click the search button
adress_line$clickElement()
remDr$getCurrentUrl()
remDr$navigate("https://www.aucklandcouncil.govt.nz/property-rates-valuations/Pages/find-property-rates-valuation.aspx")
remDr$getCurrentUrl()
remDr$refresh() # refresh the page
#webElem <- remDr$findElement(using = 'class name', "textbox-with-a-button")
#webElem <- remDr$findElement(using = 'xpath', "//*[@id="ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a_ctl00_ACAutoComplete"]]")
webElem <-remDr$findElement(using = "css", value="#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a_ctl00_ACAutoComplete")
#search_box <- remDr$findElement(using = 'id', value = "#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a_ctl00_ACAutoComplete")
#webElem <-remDr$findElement(using = "css", value="#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.textbox-with-a-button.autocomplete-search.address-search")
webElem$sendKeysToElement(list("10 eddowes"))
page_html <-  read_html(remDr$getPageSource()[[1]]) #Get the html source from site
# dropdown text
autocomplete_add <- page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") %>%
html_text()
webElem$sendKeysToElement(list(autocomplete_add))
page_html %>% html_nodes("#ACRateAccountKey") #%>% html_nodes("value")
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.multiaddressResult.m-t-1 > h4")
adress_line <-remDr$findElement(using = "css", "#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.multiaddressResult.m-t-1 > h4 > a")
page_html %>% html_nodes("#ACRateAccountKey") #%>% html_nodes("value")
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.multiaddressResult.m-t-1 > h4")
autocomplete_add
remDr$getCurrentUrl()
remDr$navigate(link)
remDr$getCurrentUrl()
#webElem <- remDr$findElement(using = 'class name', "textbox-with-a-button")
#webElem <- remDr$findElement(using = 'xpath', "//*[@id="ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a_ctl00_ACAutoComplete"]]")
webElem <-remDr$findElement(using = "css", value="#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a_ctl00_ACAutoComplete")
webElem$sendKeysToElement(list("10 eddowes"))
autocomplete_add <- page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") %>%
html_text()
autocomplete_add
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") %>%
html_text()
remDr
remDr$close()
link <- "https://www.aucklandcouncil.govt.nz/property-rates-valuations/Pages/find-property-rates-valuation.aspx"
remDr$navigate(link)
remDr$navigate(link)
# start a chrome browser
remDr <- remoteDriver(remoteServerAddr = '192.168.99.100', port = 4445L)
remDr$open()
link <- "https://www.aucklandcouncil.govt.nz/property-rates-valuations/Pages/find-property-rates-valuation.aspx"
remDr$navigate(link)
remDr$getTitle()
#webElem <- remDr$findElement(using = 'class name', "textbox-with-a-button")
#webElem <- remDr$findElement(using = 'xpath', "//*[@id="ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a_ctl00_ACAutoComplete"]]")
webElem <-remDr$findElement(using = "css", value="#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a_ctl00_ACAutoComplete")
webElem$sendKeysToElement(list("10 eddowes"))
page_html <-  read_html(remDr$getPageSource()[[1]]) #Get the html source from site
# dropdown text
autocomplete_add <- page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") %>%
html_text()
autocomplete_add
webElem$sendKeysToElement(list(autocomplete_add))
page_html %>% html_nodes("#ACRateAccountKey") #%>% html_nodes("value")
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.multiaddressResult.m-t-1 > h4")
adress_line <- remDr$findElement(using = "css", "#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.multiaddressResult.m-t-1 > h4 > a")
remDr$getTitle()
remDr$getCurrentUrl()
webElem$sendKeysToElement(list("10 eddowes"))
page_html <-  read_html(remDr$getPageSource()[[1]]) #Get the html source from site
# dropdown text
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") %>%
html_text()
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.multiaddressResult.m-t-1 > h4")
adress_line <- remDr$findElement(using = "css", "#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.multiaddressResult.m-t-1 > h4 > a")
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.multiaddressResult.m-t-1 > h4")
# dropdown text
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") %>%
html_text()
function (x, css, xpath)
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.multiaddressResult.m-t-1 > h4")
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.multiaddressResult.m-t-1 > h4")
webElem$sendKeysToElement(list("10 queen"))
webElem$sendKeysToElement(list("10 queen"))
# dropdown text
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") %>%
html_text()
page_html <-  read_html(remDr$getPageSource()[[1]]) #Get the html source from site
# dropdown text
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result") %>%
html_text()
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.multiaddressResult.m-t-1 > h4")
adress_line <- remDr$findElement(using = "css", "#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.multiaddressResult.m-t-1 > h4 > a")
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result > button")
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.multiaddressResult.m-t-1 > h4")
page_html %>% html_nodes("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result > button")
# just take top autocomplete
page_html %>% html_node("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result > button")
# just take top autocomplete
page_html %>% html_node("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result > button") %>%
html_text()
webElem$sendKeysToElement(list("10 queen m"))
# just take top autocomplete
page_html %>% html_node("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result > button") %>%
html_text()
page_html <-  read_html(remDr$getPageSource()[[1]]) #Get the html source from site
# just take top autocomplete
page_html %>% html_node("#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result > button") %>%
html_text()
adress_line <- remDr$findElement(using = "css", "#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.multiaddressResult.m-t-1 > h4 > a")
autocomplete_add <- remDr$findElement(using = "css", value="#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result > button")
autocomplete_add
autocompleteEle <- remDr$findElement(using = "css", value="#ctl00_SPWebPartManager1_g_7c078a3a_1e01_490a_8e7b_11ffd910b51a > div > div.offset-panel > div > div > div.dropdown-menu.result > button")
# click the search button
autocompleteEle$clickElement()
remDr$getCurrentUrl()
function (x, encoding = "", ..., options = c("RECOVER", "NOERROR",
"NOBLANKS"))
page_html <-  read_html(remDr$getPageSource()[[1]]) #Get the html source from site
page_html %>% html_nodes("#collapseOneTabs > div > p.key-value.m-b-2")
page_html %>% html_text("#collapseOneTabs > div > p.key-value.m-b-2")
page_html
page_html %>% html_nodes("#collapseOneTabs > div > p.key-value.m-b-2") %>% html_text
page_html
page_html %>% html_nodes("#mainpanel") %>% html_text
page_html %>% html_nodes("#mainPanel") %>% html_text
page_html %>% html_nodes("#mainPanel")
page_html %>% html_attrs("#mainPanel") %>% html_text
page_html %>% html_text
page_html %>% html_name
page_html %>% html_attr()
page_html %>% html_attrs
page_html %>% html_attr
page_html %>% html_attr(., "class")
page_html %>% html_nodes("mainPanel")
page_html
page_html[2]
page_html[[2]]
remDr$getCurrentUrl()
page_html %>% html_nodes("tabs")
read_html(remDr$getPageSource()
)
read_html(remDr$getPageSource()[[2]])
remDr$findElement(using = "css", value=#tabs")
remDr$findElement(using = "css", value="#tabs")
tab_tb <- page_html %>% html_nodes("#mainPanel") %>% html_text
tab_tb
tab_tb <- remDr$findElement(using = "css", value="#tabs")
tab_tb
tab_tb %>%  html_text
tab_tb <- remDr$findElement(using = "css", value="#tabs")
tab_tb
tab_tb %>%  html_table
tab_tb %>%  html_nodes("panel reveal")
tab_tb$getElementText(
)
tab_tb$getElementText()[[1]]
setwd("E:/ex/sculptures_wtn/")
library(shiny)
options(browser = "C:/Program Files (x86)/Google/Chrome/Application/chrome.exe")
runApp(
appDir = getwd(), port = 3450,
launch.browser = TRUE,
host = getOption("shiny.host", "127.0.0.1"))
